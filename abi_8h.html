<!-- HTML header for doxygen 1.9.7-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>muteki: include/osdep/abi.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only-darkmode-toggle.css" rel="stylesheet" type="text/css"/>
<!--Doxygen Awesome Plugins-->
<script type="text/javascript" src="doxygen-awesome-darkmode-toggle.js"></script>
<script type="text/javascript" src="doxygen-awesome-tabs.js"></script>
<script type="text/javascript">
DoxygenAwesomeDarkModeToggle.init()
DoxygenAwesomeTabs.init()
</script>
<!--/Doxygen Awesome Plugins-->
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">muteki
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('abi_8h.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a>  </div>
  <div class="headertitle"><div class="title">abi.h File Reference</div></div>
</div><!--header-->
<div class="contents">

<p>ABI compatibility helpers.  
<a href="#details">More...</a></p>

<p><a href="abi_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="define-members" name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a2c6999a96ee9b2757c7a15c1557cc6e5" id="r_a2c6999a96ee9b2757c7a15c1557cc6e5"><td class="memItemLeft" align="right" valign="top"><a id="a2c6999a96ee9b2757c7a15c1557cc6e5" name="a2c6999a96ee9b2757c7a15c1557cc6e5"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>NO_EXPECTED_WARNINGS_BEGIN</b></td></tr>
<tr class="separator:a2c6999a96ee9b2757c7a15c1557cc6e5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac8aa1b302d54440b7dae008b72b6cbc8" id="r_ac8aa1b302d54440b7dae008b72b6cbc8"><td class="memItemLeft" align="right" valign="top"><a id="ac8aa1b302d54440b7dae008b72b6cbc8" name="ac8aa1b302d54440b7dae008b72b6cbc8"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>NO_EXPECTED_WARNINGS_END</b></td></tr>
<tr class="separator:ac8aa1b302d54440b7dae008b72b6cbc8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae75443fdf2c19cc8a522251c8a1fde88" id="r_ae75443fdf2c19cc8a522251c8a1fde88"><td class="memItemLeft" align="right" valign="top"><a id="ae75443fdf2c19cc8a522251c8a1fde88" name="ae75443fdf2c19cc8a522251c8a1fde88"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>__APCS_WRAPPER_BASE</b>(NAME,  VA_LIST_NAME,  STATIC,  RETTYPE, ...)</td></tr>
<tr class="separator:ae75443fdf2c19cc8a522251c8a1fde88"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af36cab907cfc4bc0f79145cf4124e3f1" id="r_af36cab907cfc4bc0f79145cf4124e3f1"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="abi_8h.html#af36cab907cfc4bc0f79145cf4124e3f1">APCS_WRAPPER</a>(NAME,  VA_LIST_NAME,  RETTYPE, ...)&#160;&#160;&#160;    __APCS_WRAPPER_BASE(NAME, VA_LIST_NAME, , RETTYPE, __VA_ARGS__)</td></tr>
<tr class="memdesc:af36cab907cfc4bc0f79145cf4124e3f1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create thunk for an APCS caller.  <br /></td></tr>
<tr class="separator:af36cab907cfc4bc0f79145cf4124e3f1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab49b46ec8adce6e2dcdad8095200b7e8" id="r_ab49b46ec8adce6e2dcdad8095200b7e8"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="abi_8h.html#ab49b46ec8adce6e2dcdad8095200b7e8">APCS_WRAPPER_STATIC</a>(NAME,  VA_LIST_NAME,  RETTYPE, ...)&#160;&#160;&#160;    __APCS_WRAPPER_BASE(NAME, VA_LIST_NAME, static, RETTYPE, __VA_ARGS__)</td></tr>
<tr class="memdesc:ab49b46ec8adce6e2dcdad8095200b7e8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Same as <a class="el" href="abi_8h.html#af36cab907cfc4bc0f79145cf4124e3f1" title="Create thunk for an APCS caller.">APCS_WRAPPER()</a>, but marks the outer thunk as <code>static</code>.  <br /></td></tr>
<tr class="separator:ab49b46ec8adce6e2dcdad8095200b7e8"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>ABI compatibility helpers. </p>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a id="af36cab907cfc4bc0f79145cf4124e3f1" name="af36cab907cfc4bc0f79145cf4124e3f1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af36cab907cfc4bc0f79145cf4124e3f1">&#9670;&#160;</a></span>APCS_WRAPPER</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define APCS_WRAPPER</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">NAME, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">VA_LIST_NAME, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">RETTYPE, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>...</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;    __APCS_WRAPPER_BASE(NAME, VA_LIST_NAME, , RETTYPE, __VA_ARGS__)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Create thunk for an APCS caller. </p>
<p>This macro generates a set of thunks that adapts a function using AAPCS calling convention for use with an APCS caller. The syntax is as follows:</p>
<div class="fragment"><div class="line"><span class="preprocessor">#include &lt;stdarg.h&gt;</span></div>
<div class="line"> </div>
<div class="line"><span class="keyword">extern</span> <span class="keywordtype">int</span> test_eabi(<span class="keywordtype">int</span> arg0, <span class="keywordtype">char</span> *arg1);</div>
<div class="line"> </div>
<div class="line"><a class="code hl_define" href="abi_8h.html#af36cab907cfc4bc0f79145cf4124e3f1">APCS_WRAPPER</a>(test, <span class="keywordtype">int</span>, args) {</div>
<div class="line">  <span class="keywordtype">int</span> arg0 = va_arg(args, <span class="keywordtype">int</span>);</div>
<div class="line">  <span class="keywordtype">char</span> *arg1 = va_arg(args, <span class="keywordtype">char</span> *);</div>
<div class="line">  <span class="keywordflow">return</span> test_eabi(arg0, arg1);</div>
<div class="line">}</div>
<div class="ttc" id="aabi_8h_html_af36cab907cfc4bc0f79145cf4124e3f1"><div class="ttname"><a href="abi_8h.html#af36cab907cfc4bc0f79145cf4124e3f1">APCS_WRAPPER</a></div><div class="ttdeci">#define APCS_WRAPPER(NAME, VA_LIST_NAME, RETTYPE,...)</div><div class="ttdoc">Create thunk for an APCS caller.</div><div class="ttdef"><b>Definition</b> abi.h:109</div></div>
</div><!-- fragment --><dl class="section note"><dt>Note</dt><dd>It is recommended to use the scope block of this macro solely for defining a thunk to some other EABI functions. In other words, any other program logic should generally be defined elsewhere and not inside the scope block of this macro. One should also avoid calling the thunk generated by this macro directly from the EABI land for performance and type safety reasons.</dd></dl>
<dl class="section warning"><dt>Warning</dt><dd>This wrapper does not align the variadic reader to 8-bytes, therefore if you want to read 64-bit values, you need to do it with 2 separate 32-bit reads. This is the same for double values. For those, it's better to read them as 2 integers, then concatenate them, and finally cast the result back to double.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">NAME</td><td>Name of the thunk that will be called from APCS functions. </td></tr>
    <tr><td class="paramname">VA_LIST_NAME</td><td>The name of the variadic list object. </td></tr>
    <tr><td class="paramname">RETTYPE</td><td>Return type of the thunk. Used to match the signature of the outer thunk to those of a kernel callback pointer. </td></tr>
    <tr><td class="paramname">...</td><td>Parameter signature of the outer thunk. Used to match the signature of the outer thunk to those of a kernel callback pointer. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ab49b46ec8adce6e2dcdad8095200b7e8" name="ab49b46ec8adce6e2dcdad8095200b7e8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab49b46ec8adce6e2dcdad8095200b7e8">&#9670;&#160;</a></span>APCS_WRAPPER_STATIC</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define APCS_WRAPPER_STATIC</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">NAME, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">VA_LIST_NAME, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">RETTYPE, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>...</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;    __APCS_WRAPPER_BASE(NAME, VA_LIST_NAME, static, RETTYPE, __VA_ARGS__)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Same as <a class="el" href="abi_8h.html#af36cab907cfc4bc0f79145cf4124e3f1" title="Create thunk for an APCS caller.">APCS_WRAPPER()</a>, but marks the outer thunk as <code>static</code>. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">NAME</td><td>Name of the thunk that will be called from APCS functions. </td></tr>
    <tr><td class="paramname">VA_LIST_NAME</td><td>The name of the variadic list object. </td></tr>
    <tr><td class="paramname">RETTYPE</td><td>Return type of the thunk. Used to match the signature of the outer thunk to those of a kernel callback pointer. </td></tr>
    <tr><td class="paramname">...</td><td>Parameter signature of the outer thunk. Used to match the signature of the outer thunk to those of a kernel callback pointer. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_d44c64559bbebec7f509842c48db8b23.html">include</a></li><li class="navelem"><a class="el" href="dir_38022219427cd2fba679d3084a363551.html">osdep</a></li><li class="navelem"><a class="el" href="abi_8h.html">abi.h</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8 </li>
  </ul>
</div>
</body>
</html>
