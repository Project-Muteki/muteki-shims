<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>muteki-shims: include/muteki/errno.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">muteki-shims
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_d44c64559bbebec7f509842c48db8b23.html">include</a></li><li class="navelem"><a class="el" href="dir_89e46442482f5622ab783d5d97d4fad2.html">muteki</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">errno.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Besta error code constants and functions.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;<a class="el" href="common_8h_source.html">muteki/common.h</a>&gt;</code><br />
</div>
<p><a href="errno_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:a10935ed5a8e001707b2cc7bfc07cdfc6"><td class="memItemLeft" align="right" valign="top"><a id="a10935ed5a8e001707b2cc7bfc07cdfc6"></a>
typedef int32_t&#160;</td><td class="memItemRight" valign="bottom"><b>kerrno_t</b></td></tr>
<tr class="separator:a10935ed5a8e001707b2cc7bfc07cdfc6"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:a4bae49c902f4defacf7ee87d5795c63e"><td class="memItemLeft" align="right" valign="top"><a id="a4bae49c902f4defacf7ee87d5795c63e"></a>enum &#160;</td><td class="memItemRight" valign="bottom"><b>message_flags_e</b> { <b>FORMAT_MESSAGE_ALLOCATE_BUFFER</b> = 0x100, 
<b>FORMAT_MESSAGE_FROM_SYSTEM</b> = 0x1000
 }</td></tr>
<tr class="separator:a4bae49c902f4defacf7ee87d5795c63e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2a5f5cf0247fb920e87e95fd487aefb5"><td class="memItemLeft" align="right" valign="top"><a id="a2a5f5cf0247fb920e87e95fd487aefb5"></a>enum &#160;</td><td class="memItemRight" valign="bottom"><b>errno_ns_flag_e</b> { <b>ERRNO_NS_USER</b> = 0x2, 
<b>ERRNO_NS_KERNEL</b> = 0x4, 
<b>ERRNO_NS_EXEC</b> = 0x8, 
<b>ERRNO_NS_APPLET_SPECIFIC</b> = 0x2000
 }</td></tr>
<tr class="separator:a2a5f5cf0247fb920e87e95fd487aefb5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad8c9085e0bdd5a9b0b159fb117161c32"><td class="memItemLeft" align="right" valign="top"><a id="ad8c9085e0bdd5a9b0b159fb117161c32"></a>enum &#160;</td><td class="memItemRight" valign="bottom"><b>errno_exec_e</b> { <br />
&#160;&#160;<b>EXEC_UNSUPPORTED</b> = 0x0001, 
<b>EXEC_INVALID</b>, 
<b>EXEC_OPEN_FAILED</b>, 
<b>EXEC_LOADER_FAILURE</b>, 
<br />
&#160;&#160;<b>EXEC_MALLOC_FAILED</b>, 
<b>EXEC_DECOMPRESSION_FAILED</b>, 
<b>EXEC_MP3_PLAYER_IS_RUNNING</b>, 
<b>EXEC_UNKNOWN_FORMAT</b> = 0x000a
<br />
 }</td></tr>
<tr class="separator:ad8c9085e0bdd5a9b0b159fb117161c32"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abcf282c7663bd0455f40aadcdcd2bf73"><td class="memItemLeft" align="right" valign="top"><a id="abcf282c7663bd0455f40aadcdcd2bf73"></a>enum &#160;</td><td class="memItemRight" valign="bottom"><b>errno_kernel_e</b> { <br />
&#160;&#160;<b>PERIPHERAL_COMM_FAILED</b> = 0x0003, 
<b>GENERAL_HW_ERROR</b>, 
<b>FTL_DATA_CORRUPTED</b> = 0x0010, 
<b>FTL_ECC_FAILED</b>, 
<br />
&#160;&#160;<b>FTL_ECC_TRIGGERED</b> = 0x0018, 
<b>FTL_INVALID_LBA</b> = 0x0021, 
<b>MEDIUM_WP_ENABLED</b> = 0x0027, 
<b>MEDIUM_CHANGED</b>, 
<br />
&#160;&#160;<b>MEDIUM_INCOMPATIBLE</b> = 0x0030, 
<b>MEDIUM_ERROR</b>, 
<b>MEDIUM_UNLOADED</b> = 0x003a, 
<b>SYS_STORAGE_DEVICE_NOT_FOUND</b> = 0x0060, 
<br />
&#160;&#160;<b>SYS_ERASE_FAILED</b>, 
<b>SYS_OUT_OF_MEMORY</b>, 
<b>SYS_LOW_BATTERY</b>, 
<b>SYS_LOCK_SWITCH_ENABLED</b>, 
<br />
&#160;&#160;<b>MKFS_PROMPT</b> = 0x0102, 
<b>MKFS_UNSUPPORTED</b>, 
<b>MKFS_NO_SPACE_LEFT</b>, 
<b>MKFS_MODE_ERROR</b>, 
<br />
&#160;&#160;<b>MKFS_IO_ERROR</b>, 
<b>FS_INVALID_DRIVE_LETTER</b> = 0x0113, 
<b>FS_INVALID_FILENAME</b> = 0x0140, 
<b>FS_OPERATION_ERROR</b>, 
<br />
&#160;&#160;<b>FS_ENTRY_EXISTS</b>, 
<b>FS_DIR_FULL</b>, 
<b>FS_NO_SUCH_ENTRY</b>, 
<b>FS_FILE_UNAVAILABLE</b>, 
<br />
&#160;&#160;<b>FS_FILE_OOB_ACCESS</b>, 
<b>FS_CONFLICTING_ATTR</b>, 
<b>FS_TOO_MANY_OPEN_FILES</b>, 
<b>FS_FILE_LOCKED</b>, 
<br />
&#160;&#160;<b>FS_FILE_ATTR_ERROR</b>, 
<b>FS_NO_SPACE_LEFT</b>, 
<b>FS_NO_SUCH_ENTRY_ALT</b> = 0x0154, 
<b>FS_READ_ONLY_FILE</b> = 0x0158, 
<br />
&#160;&#160;<b>FS_PATH_TOO_LONG</b> = 0x0162, 
<b>FS_DIR_FULL_ALT1</b> = 0x0165, 
<b>FS_DIR_FULL_ALT2</b>, 
<b>DB_CORRUPTED</b> = 0x0200, 
<br />
&#160;&#160;<b>DB_OPEN_FAILED</b>, 
<b>DB_INDEX_FULL_DELETE</b> = 0x0203, 
<b>DB_FULL</b>, 
<b>DB_INDEX_FULL_SYNC</b>, 
<br />
&#160;&#160;<b>DB_TOO_MANY_OPEN_FILES</b>
<br />
 }</td></tr>
<tr class="separator:abcf282c7663bd0455f40aadcdcd2bf73"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a30ded332e224f861b7b50f11568f091d"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="errno_8h.html#a30ded332e224f861b7b50f11568f091d">FormatMessage</a> (int32_t flags, int32_t _sbz0, int32_t _sbz1, int32_t _sbz2, void *outbuf, size_t outlen)</td></tr>
<tr class="memdesc:a30ded332e224f861b7b50f11568f091d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Fetch an error message.  <a href="errno_8h.html#a30ded332e224f861b7b50f11568f091d">More...</a><br /></td></tr>
<tr class="separator:a30ded332e224f861b7b50f11568f091d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeaa5fa918b295c79d957f225a271dd13"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="errno_8h.html#aeaa5fa918b295c79d957f225a271dd13">OSSetLastError</a> (kerrno_t err)</td></tr>
<tr class="memdesc:aeaa5fa918b295c79d957f225a271dd13"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the global errno.  <a href="errno_8h.html#aeaa5fa918b295c79d957f225a271dd13">More...</a><br /></td></tr>
<tr class="separator:aeaa5fa918b295c79d957f225a271dd13"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad18c4185692b2c3c69c7fc7612bca683"><td class="memItemLeft" align="right" valign="top">kerrno_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="errno_8h.html#ad18c4185692b2c3c69c7fc7612bca683">OSGetLastError</a> (void)</td></tr>
<tr class="memdesc:ad18c4185692b2c3c69c7fc7612bca683"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get errno value from the global errno variable.  <a href="errno_8h.html#ad18c4185692b2c3c69c7fc7612bca683">More...</a><br /></td></tr>
<tr class="separator:ad18c4185692b2c3c69c7fc7612bca683"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a445cee9577bc3d31d4b41b7d2f47d28f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="errno_8h.html#a445cee9577bc3d31d4b41b7d2f47d28f">_SetLastError</a> (kerrno_t err)</td></tr>
<tr class="memdesc:a445cee9577bc3d31d4b41b7d2f47d28f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set errno.  <a href="errno_8h.html#a445cee9577bc3d31d4b41b7d2f47d28f">More...</a><br /></td></tr>
<tr class="separator:a445cee9577bc3d31d4b41b7d2f47d28f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3e86bca27cfb284b8afb25762cc4f372"><td class="memItemLeft" align="right" valign="top">kerrno_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="errno_8h.html#a3e86bca27cfb284b8afb25762cc4f372">_GetLastError</a> (void)</td></tr>
<tr class="memdesc:a3e86bca27cfb284b8afb25762cc4f372"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get errno.  <a href="errno_8h.html#a3e86bca27cfb284b8afb25762cc4f372">More...</a><br /></td></tr>
<tr class="separator:a3e86bca27cfb284b8afb25762cc4f372"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Besta error code constants and functions. </p>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="a3e86bca27cfb284b8afb25762cc4f372"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3e86bca27cfb284b8afb25762cc4f372">&#9670;&nbsp;</a></span>_GetLastError()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">kerrno_t _GetLastError </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get errno. </p>
<p>If kernel errno is set, the errno is returned with <code>ERRNO_NS_KERNEL</code> bit set. Otherwise it will return the result from <code>OSSetLastError</code> with <code>ERRNO_NS_USER</code> bit set.</p>
<p>Requires <code>-lkrnllib</code> when dynamically linking with the shims.</p>
<dl class="section return"><dt>Returns</dt><dd>The current errno value from either kernel or <code>OSSetLastError</code>. </dd></dl>

</div>
</div>
<a id="a445cee9577bc3d31d4b41b7d2f47d28f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a445cee9577bc3d31d4b41b7d2f47d28f">&#9670;&nbsp;</a></span>_SetLastError()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void _SetLastError </td>
          <td>(</td>
          <td class="paramtype">kerrno_t&#160;</td>
          <td class="paramname"><em>err</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set errno. </p>
<p>Unlike <code>OSSetLastError</code>, this also clears the kernel errno before calling <code>OSSetLastError</code>.</p>
<p>If the errno namespace is unset, it will also automatically set <code>ERRNO_NS_KERNEL_OVERRIDE_DEFAULT</code> before passing it to <code>OSSetLastError</code>.</p>
<p>Requires <code>-lkrnllib</code> when dynamically linking with the shims.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">err</td><td>New errno value. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a30ded332e224f861b7b50f11568f091d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a30ded332e224f861b7b50f11568f091d">&#9670;&nbsp;</a></span>FormatMessage()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">size_t FormatMessage </td>
          <td>(</td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>flags</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>_sbz0</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>_sbz1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>_sbz2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>outbuf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>outlen</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Fetch an error message. </p>
<p>Fetch error descriptions (encoded in <code>UTF16</code>) for last set error in a similar manner to FormatMessage API in Windows.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">flags</td><td>Flags. Only <code>FORMAT_MESSAGE_FROM_SYSTEM</code> and <code>FORMAT_MESSAGE_ALLOCATE_BUFFER</code> are supported. In addition, <code>FORMAT_MESSAGE_FROM_SYSTEM</code> must be set. </td></tr>
    <tr><td class="paramname">_sbz0</td><td>Ignored. Should be set to 0. </td></tr>
    <tr><td class="paramname">_sbz1</td><td>Ignored. Should be set to 0. </td></tr>
    <tr><td class="paramname">_sbz2</td><td>Ignored. Should be set to 0. </td></tr>
    <tr><td class="paramname">outbuf</td><td>The output buffer. If using <code>FORMAT_MESSAGE_ALLOCATE_BUFFER</code>, the pointer to the allocated buffer will be placed at this location. Otherwise the message will be written directly to this location. It's caller's responsibility to free any buffer allocated by <code>FORMAT_MESSAGE_ALLOCATE_BUFFER</code>. </td></tr>
    <tr><td class="paramname">outlen</td><td>When not using <code>FORMAT_MESSAGE_ALLOCATE_BUFFER</code>, this is the length of the message buffer. Otherwise this is the minimum size of the buffer allocated for the message by the function. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Length of the message written, or 0 if fails. </dd></dl>

</div>
</div>
<a id="ad18c4185692b2c3c69c7fc7612bca683"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad18c4185692b2c3c69c7fc7612bca683">&#9670;&nbsp;</a></span>OSGetLastError()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">kerrno_t OSGetLastError </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get errno value from the global errno variable. </p>
<dl class="section return"><dt>Returns</dt><dd>The current errno value. </dd></dl>

</div>
</div>
<a id="aeaa5fa918b295c79d957f225a271dd13"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeaa5fa918b295c79d957f225a271dd13">&#9670;&nbsp;</a></span>OSSetLastError()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void OSSetLastError </td>
          <td>(</td>
          <td class="paramtype">kerrno_t&#160;</td>
          <td class="paramname"><em>err</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set the global errno. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">err</td><td>New errno value. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
