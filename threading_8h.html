<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>muteki-shims: include/muteki/threading.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">muteki-shims
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_d44c64559bbebec7f509842c48db8b23.html">include</a></li><li class="navelem"><a class="el" href="dir_89e46442482f5622ab783d5d97d4fad2.html">muteki</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">threading.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Native threading API.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;<a class="el" href="common_8h_source.html">muteki/common.h</a>&gt;</code><br />
</div>
<p><a href="threading_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structcritical__section__t.html">critical_section_t</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:a6a192ac07cc5baa990ea11d151f52de5"><td class="memItemLeft" align="right" valign="top"><a id="a6a192ac07cc5baa990ea11d151f52de5"></a>
typedef void(*&#160;</td><td class="memItemRight" valign="bottom"><b>thread_func_t</b>) (void)</td></tr>
<tr class="separator:a6a192ac07cc5baa990ea11d151f52de5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abe60e833b74a1d4ebebffb964f10ab88"><td class="memItemLeft" align="right" valign="top"><a id="abe60e833b74a1d4ebebffb964f10ab88"></a>
typedef void&#160;</td><td class="memItemRight" valign="bottom"><b>thread_t</b></td></tr>
<tr class="separator:abe60e833b74a1d4ebebffb964f10ab88"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:aa6ebd195673c9f5c88b2c58bc5ee3573"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="threading_8h.html#aa6ebd195673c9f5c88b2c58bc5ee3573">OSSleep</a> (short millis)</td></tr>
<tr class="memdesc:aa6ebd195673c9f5c88b2c58bc5ee3573"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sleep for <code>millis</code> milliseconds.  <a href="threading_8h.html#aa6ebd195673c9f5c88b2c58bc5ee3573">More...</a><br /></td></tr>
<tr class="separator:aa6ebd195673c9f5c88b2c58bc5ee3573"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a26d3d1e3502eb1bc707254879fed211d"><td class="memItemLeft" align="right" valign="top">thread_t *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="threading_8h.html#a26d3d1e3502eb1bc707254879fed211d">OSCreateThread</a> (thread_func_t func, int unk2, size_t stack_size, int unk4)</td></tr>
<tr class="memdesc:a26d3d1e3502eb1bc707254879fed211d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a new thread.  <a href="threading_8h.html#a26d3d1e3502eb1bc707254879fed211d">More...</a><br /></td></tr>
<tr class="separator:a26d3d1e3502eb1bc707254879fed211d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a73612b6ec4676c415bf74e23ea2b29c8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="threading_8h.html#a73612b6ec4676c415bf74e23ea2b29c8">OSInitCriticalSection</a> (<a class="el" href="structcritical__section__t.html">critical_section_t</a> *mutex)</td></tr>
<tr class="memdesc:a73612b6ec4676c415bf74e23ea2b29c8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize a critical section (recursive mutex) context.  <a href="threading_8h.html#a73612b6ec4676c415bf74e23ea2b29c8">More...</a><br /></td></tr>
<tr class="separator:a73612b6ec4676c415bf74e23ea2b29c8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adc2599d951d59c95d3350112f4c629d6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="threading_8h.html#adc2599d951d59c95d3350112f4c629d6">OSEnterCriticalSection</a> (<a class="el" href="structcritical__section__t.html">critical_section_t</a> *mutex)</td></tr>
<tr class="memdesc:adc2599d951d59c95d3350112f4c629d6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Enter/aquire a critical section (recursive mutex) context.  <a href="threading_8h.html#adc2599d951d59c95d3350112f4c629d6">More...</a><br /></td></tr>
<tr class="separator:adc2599d951d59c95d3350112f4c629d6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afad04795e186d7f6a45b46850c2f472c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="threading_8h.html#afad04795e186d7f6a45b46850c2f472c">OSLeaveCriticalSection</a> (<a class="el" href="structcritical__section__t.html">critical_section_t</a> *mutex)</td></tr>
<tr class="memdesc:afad04795e186d7f6a45b46850c2f472c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Leave/release a critical section (recursive mutex) context.  <a href="threading_8h.html#afad04795e186d7f6a45b46850c2f472c">More...</a><br /></td></tr>
<tr class="separator:afad04795e186d7f6a45b46850c2f472c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a030db07f842dadfa140db8a26904e7cd"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="threading_8h.html#a030db07f842dadfa140db8a26904e7cd">OSDeleteCriticalSection</a> (<a class="el" href="structcritical__section__t.html">critical_section_t</a> *mutex)</td></tr>
<tr class="memdesc:a030db07f842dadfa140db8a26904e7cd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destroy a critical section (recursive mutex) context after use.  <a href="threading_8h.html#a030db07f842dadfa140db8a26904e7cd">More...</a><br /></td></tr>
<tr class="separator:a030db07f842dadfa140db8a26904e7cd"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Native threading API. </p>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="a26d3d1e3502eb1bc707254879fed211d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a26d3d1e3502eb1bc707254879fed211d">&#9670;&nbsp;</a></span>OSCreateThread()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">thread_t* OSCreateThread </td>
          <td>(</td>
          <td class="paramtype">thread_func_t&#160;</td>
          <td class="paramname"><em>func</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>unk2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>stack_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>unk4</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Create a new thread. </p>
<p>TODO: Incomplete and not working yet.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">func</td><td>Function to execute in the new thread. </td></tr>
    <tr><td class="paramname">unk2</td><td>Unknown. Set to 0. </td></tr>
    <tr><td class="paramname">stack_size</td><td>Seems to be the size of the thread stack. </td></tr>
    <tr><td class="paramname">unk4</td><td>Unknown. Set to 0. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The thread object. </dd></dl>

</div>
</div>
<a id="a030db07f842dadfa140db8a26904e7cd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a030db07f842dadfa140db8a26904e7cd">&#9670;&nbsp;</a></span>OSDeleteCriticalSection()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void OSDeleteCriticalSection </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structcritical__section__t.html">critical_section_t</a> *&#160;</td>
          <td class="paramname"><em>mutex</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Destroy a critical section (recursive mutex) context after use. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">mutex</td><td>The critical section/mutex context. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="adc2599d951d59c95d3350112f4c629d6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adc2599d951d59c95d3350112f4c629d6">&#9670;&nbsp;</a></span>OSEnterCriticalSection()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void OSEnterCriticalSection </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structcritical__section__t.html">critical_section_t</a> *&#160;</td>
          <td class="paramname"><em>mutex</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Enter/aquire a critical section (recursive mutex) context. </p>
<p>This will block when multiple threads are trying to enter the same context, but it will let repeated entries initiated by the same thread to pass through. The context is released when all of the entries are reverted by a <code>OSLeaveCriticalSection</code> call.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">mutex</td><td>The critical section/mutex context. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a73612b6ec4676c415bf74e23ea2b29c8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a73612b6ec4676c415bf74e23ea2b29c8">&#9670;&nbsp;</a></span>OSInitCriticalSection()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void OSInitCriticalSection </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structcritical__section__t.html">critical_section_t</a> *&#160;</td>
          <td class="paramname"><em>mutex</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialize a critical section (recursive mutex) context. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">mutex</td><td>The critical section/mutex context. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="afad04795e186d7f6a45b46850c2f472c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afad04795e186d7f6a45b46850c2f472c">&#9670;&nbsp;</a></span>OSLeaveCriticalSection()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void OSLeaveCriticalSection </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structcritical__section__t.html">critical_section_t</a> *&#160;</td>
          <td class="paramname"><em>mutex</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Leave/release a critical section (recursive mutex) context. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">mutex</td><td>The critical section/mutex context. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aa6ebd195673c9f5c88b2c58bc5ee3573"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa6ebd195673c9f5c88b2c58bc5ee3573">&#9670;&nbsp;</a></span>OSSleep()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void OSSleep </td>
          <td>(</td>
          <td class="paramtype">short&#160;</td>
          <td class="paramname"><em>millis</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sleep for <code>millis</code> milliseconds. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">millis</td><td>Time to sleep in milliseconds. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
